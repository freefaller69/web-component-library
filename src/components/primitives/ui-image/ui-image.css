/* ui-image component styles */

:host {
  display: block;
  
  /* CSS Custom Properties for theming */
  --ui-image-bg: hsl(0, 0%, 95%);
  --ui-image-border-radius: 0;
  --ui-image-transition: opacity 0.3s ease-in-out;
  
  /* Provide background for when image doesn't fill container (contain, scale-down modes) */
  background-color: var(--ui-image-bg);
  border-radius: var(--ui-image-border-radius);
  
  /* Fill container by default, but allow CSS override */
  width: 100%;
  height: 100%;
}

/* Image element */
.ui-image__img {
  display: block;
  width: 100%;
  height: 100%;
  transition: var(--ui-image-transition);
  border: none;
  outline: none;
  border-radius: inherit; /* Inherit border radius from host */
  object-fit: cover; /* Default fit mode */
}

/* Object-fit variants */
.ui-image__img[data-fit="contain"] {
  object-fit: contain;
}

.ui-image__img[data-fit="cover"] {
  object-fit: cover;
}

.ui-image__img[data-fit="fill"] {
  object-fit: fill;
}

.ui-image__img[data-fit="scale-down"] {
  object-fit: scale-down;
}

/* Loading state - disabled to prevent interference with object-fit testing */
/* .ui-image__img[loading="lazy"] {
  opacity: 0;
  animation: ui-image-fade-in 0.3s ease-in-out forwards;
} */

@keyframes ui-image-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Note: Responsive behavior is handled by object-fit and container dimensions */

/* Accessibility and motion preferences */
@media (prefers-reduced-motion: reduce) {
  .ui-image__img {
    transition: none;
    animation: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .ui-image {
    border: 1px solid currentColor;
  }
}

/* Focus styles for accessibility */
:host(:focus-within) .ui-image {
  outline: 2px solid var(--ui-image-focus, currentColor);
  outline-offset: 2px;
}

/* Dark theme support */
@media (prefers-color-scheme: dark) {
  :host {
    --ui-image-bg: hsl(0, 0%, 20%);
  }
}